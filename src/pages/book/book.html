<ion-header>
  <ion-toolbar>
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    <ion-title>
      Book
    </ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-list  *ngIf="api.issues">
    <ion-list-header color="primary">
      Available Books
    </ion-list-header>
    <ion-item-sliding *ngFor="let i of api.issues.Issues" radio-group [(ngModel)]="api.current.issue">
      <ion-item>
        <ion-label>{{i.Name}}</ion-label>
        <ion-radio value="{{i.Id}}" (ionSelect)="api.activateIssue()"></ion-radio>
      </ion-item>
      <ion-item-options side="left">
        <button ion-button color="danger" (click)="deleteIssue(i.Id)">
          <ion-icon name="trash"></ion-icon>
        </button>
        <button ion-button color="secondary" (click)="shareIssue(i.Id)">
          <ion-icon name="share"></ion-icon>
        </button>
      </ion-item-options>
    </ion-item-sliding>
    
    <div padding>
      <button ion-button color="light" block (click)="addIssue()">Add Book</button>
    </div>

  </ion-list>
  <ion-list *ngIf="api.current.issue && api.issues.Issues.length > 0 && api.current.issue_options.Name && api.current.issue_options.Options">
    <ion-list-header color="secondary">
      Book Settings
    </ion-list-header>
    <ion-item>
       <ion-label stacked>Title</ion-label>
       <ion-input placeholder="Title" (ngModelChange)="api.bookStore()" [(ngModel)]="api.current.issue_options.Name"></ion-input>
    </ion-item>
    <ion-item>
       <ion-label stacked>Short Title</ion-label>
       <ion-input placeholder="Short Title" (ngModelChange)="api.bookStore()" [(ngModel)]="api.current.issue_options.Options[0].value"></ion-input>
    </ion-item>
    <ion-item>
       <ion-label stacked>Inside Title</ion-label>
       <ion-input placeholder="Inside Title" (ngModelChange)="api.bookStore()" [(ngModel)]="api.current.issue_options.Options[1].value"></ion-input>
    </ion-item>
    <ion-item>
       <ion-label stacked>Subtitle</ion-label>
       <ion-input placeholder="Subtitle" (ngModelChange)="api.bookStore()" [(ngModel)]="api.current.issue_options.Options[2].value"></ion-input>
    </ion-item>
    <ion-item>
       <ion-label stacked>Author</ion-label>
       <ion-input placeholder="Author" (ngModelChange)="api.bookStore()" [(ngModel)]="api.current.issue_options.Options[3].value"></ion-input>
    </ion-item>
    <ion-item>
       <ion-label stacked>Author Short</ion-label>
       <ion-input placeholder="Author Short Variant" (ngModelChange)="api.bookStore()" [(ngModel)]="api.current.issue_options.Options[4].value"></ion-input>
    </ion-item>
  </ion-list>
  <ion-list *ngIf="api.current.issue && api.issues.Issues.length > 0 && api.current.issue_options.Options">
    <ion-list-header color="secondary">
      Imprint
    </ion-list-header>
    <ion-item>
       <ion-label stacked>ISBN</ion-label>
       <ion-input placeholder="ISBN" (ngModelChange)="api.bookStore()" [(ngModel)]="api.current.issue_options.Options[5].value"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label stacked>Imprint</ion-label>
       <ion-textarea
        autoresize
        placeholder="Enter a imprint"
        [(ngModel)]="api.current.issue_options.Options[6].value"
        (ngModelChange)="api.bookStore()"
       ></ion-textarea>
    </ion-item>
  </ion-list>
  <ion-list *ngIf="api.current.issue && api.issues.Issues.length > 0 && api.current.issue_options.Options">
    <ion-list-header color="secondary">
      Preface
    </ion-list-header>
    <ion-item>
       <ion-label stacked>Blurb / Greeter</ion-label>
        <ion-textarea
        autoresize
        placeholder="Enter a Blurb / Greeter"
        [(ngModel)]="api.current.issue_options.Options[7].value"
        (ngModelChange)="api.bookStore()"
       ></ion-textarea>
    </ion-item>
    <ion-item>
      <ion-label stacked>Preface</ion-label>
       <ion-textarea
        autoresize
        placeholder="Enter a preface"
        [(ngModel)]="api.current.issue_options.Options[8].value"
        (ngModelChange)="api.bookStore()"
       ></ion-textarea>
    </ion-item>
  </ion-list>
</ion-content>
