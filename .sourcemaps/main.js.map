{"version":3,"sources":["../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/settings/settings.ts","../../src/pages/editor/editor.ts","../../src/pages/book/book.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/directives/shrink.ts","../../src/services/rfapi.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 166;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 166\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 209;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 209\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { Api } from '../../services/rfapi.component';\n\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\nexport class Settings {\n\n  errorMessage: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public api:Api\n  )\n  {\n  }\n\n  ngOnInit() {\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","\nimport { Component, ViewChild } from '@angular/core';\nimport { Printer, PrintOptions } from '@ionic-native/printer';\nimport { Platform, NavController, LoadingController, Slides, Events, AlertController } from 'ionic-angular';\nimport { Api } from '../../services/rfapi.component';\nimport 'codemirror/mode/markdown/markdown.js';\nimport 'codemirror/addon/scroll/simplescrollbars.js';\nimport 'codemirror/addon/fold/foldcode.js';\nimport 'codemirror/addon/fold/foldgutter.js';\nimport 'codemirror/addon/fold/markdown-fold.js';\nimport {Converter} from \"showdown/dist/showdown\";\n\n@Component({\n  selector: 'page-editor',\n  templateUrl: 'editor.html',\n  providers: [Printer]\n})\n\nexport class Editor {\n  service: any;\n  content: any;\n  mySlideOptions: any;\n  initialSlide: number = 0;\n  initialized: boolean = false;\n  //ctrl: any;\n  loading: any;\n\n  cm_options: any = {\n    viewportMargin: 10,\n    mode: 'markdown',\n    lineNumbers: false,\n    theme: \"default\",\n    inputStyle: \"textarea\",\n    lineWrapping: true,\n    scrollbarStyle: 'overlay',\n    foldGutter: true,\n    gutters: [\"CodeMirror-foldgutter\"]\n  };\n\n\n  @ViewChild('mySlider') slider: Slides;\n\n  constructor(\n    public navCtrl: NavController,\n    public api:Api,\n    public loadingCtrl: LoadingController,\n    public events: Events,\n    public alert: AlertController,\n    public platform: Platform,\n    public printer: Printer\n  ) {\n    var self = this;\n\n    self.cm_options.cursorBlinkRate = self.platform.is('core') ? \"500\" : -1;\n\n\n    self.loading = this.loadingCtrl.create({\n      content: \"Please wait...\"\n    });\n    self.loading.present();\n    //this.ctrl = new FormControl();\n\n    events.subscribe('page:change', (page) => {\n      console.log(\"got page change\");\n      self.slider.slideTo(page);\n      /*\n      if (self.slider.getSlider() !== undefined && typeof self.slider.slideTo === \"function\") {\n        setTimeout(() => {\n          console.log('done')\n          self.slider.slideTo(page);\n        }, 250);\n      }*/\n    });\n\n    events.subscribe('page:redraw', (page) => {\n      console.log(\"got page redraw\");\n      self.slider.slideTo(self.slider.getActiveIndex(), 0, false)\n      /*\n      console.log(self.slider);\n      if (self.slider.getSlider() !== undefined) {\n        setTimeout(() => {\n          let s = self.slider.getSlider();\n          //s.update();\n          self.slider.slideTo(self.slider.getActiveIndex(), 0, false);\n        }, 250);\n      }*/\n    });\n\n\n\n    //console.log(\"Initialize Slide \", self.initialSlide);\n    //if (self.initialized && self.slider) {\n    //  self.slider.slideTo(self.initialSlide, 0);\n    //}\n    self.mySlideOptions = {\n      direction: \"vertical\",\n      onlyExternal: true,\n      slidesPerView: 1,\n      runCallbacksOnInit: false,\n      preventClicksPropagation: false,\n      preventClicks: false,\n      initialSlide: self.api.getCurrent(),\n      onInit: (slides: any) => {\n        self.loading.dismiss();\n        self.initialized = true;\n      }\n    };\n  }\n\n  trackByFn(index, i) {\n    return i.syncId;\n  }\n\n  openModal(mode) {\n\n    var _title, _message, _placeholder, _data, _value;\n\n    var self = this;\n\n    if (mode === \"set-title\") {\n      _title = \"Title\";\n      _placeholder = this.api.data[this.api.current].title;\n      _value = _placeholder != 'Empty Title' ? _placeholder : false;\n      _data = \"title\";\n      _message = \"Set Document Title\";\n    }\n    if (mode === \"set-identifier\") {\n      _title = \"ID\";\n      _placeholder = this.api.data[this.api.current].name;\n      _data = \"name\";\n      _value = _placeholder != 'rf001' ? _placeholder : false;\n      _message = \"Set Document Identifier\";\n    }\n\n    let confirm = this.alert.create({\n      title: _title,\n      message: _message,\n      inputs: [\n        {\n          name: _title,\n          placeholder: _placeholder,\n          value: _value\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Save',\n          handler: data => {\n            console.log('Saved clicked', data);\n            self.api.data[self.api.current][_data] = data[_title];\n            self.api.change();\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n  ngAfterViewInit() {\n    this.loading.dismiss();\n    this.initialized = true;\n    this.slider.onlyExternal = true;\n    this.slider.paginationType = \"fraction\";\n    this.slider.simulateTouch = false;\n    this.slider.touchEventsTarget = \"container\";\n    this.slider.keyboardControl = false;\n  }\n\n/*\n  ngAfterViewChecked() {\n    if (this && this.slider && this.slider.getSlider() !== undefined && typeof this.slider.slideTo === \"function\") {\n      if (Number(this.slider.getActiveIndex()) !== this.api.getCurrent()) {\n        console.log(\"Manual Update needed...\")\n        //this.slider.slideTo(this.api.getCurrent())\n      }\n    }\n  }\n*/\n  ionViewDidLoad() {\n\n  }\n\n  ionViewCanLeave(): Promise<boolean> {\n    if (this.initialized && this.api.data && this.api.data.length > 0) {\n      this.api.change();\n    }\n    return new Promise((resolve, reject) => {\n      let confirm = this.alert.create({\n        title: 'Unsafed Changes',\n        message: 'Leaving the editor might cause data loss.',\n        buttons: [{\n          text: 'OK',\n          handler: () => {\n            resolve(true);\n          },\n        }],\n      });\n      if (this.api.data && this.api.data.length > 0 && this.api.data[this.api.current].modified == 1) {\n        confirm.present();\n      }\n      else {\n        resolve(true);\n      }\n    })\n  }\n\n  slideWillChange() {\n    if (!this.initialized) return false;\n    this.api.setCurrent(this.slider.getActiveIndex());\n  }\n\n  slideDidChange() {\n    if (!this.initialized) return false;\n  }\n\n  addPage() {\n    if (!this.initialized) return false;\n    let index = this.api.data.length == 0 ? 0 : this.slider.getActiveIndex() + 1;\n    this.api.add(index).then((d) => {\n      console.log(\"Page Added\")\n    });\n  }\n\n  printPage() {\n    const converter = new Converter();\n    converter.setOption('simpleLineBreaks', true);\n    var self  = this;\n    var _print = '<!DOCTYPE html><html><head>  '\n               + '<link href=\"build/print.css\" rel=\"stylesheet\" media=\"print\">'\n               + '</head><body class=\"print\">'\n               + '<div class=\"title\">' + converter.makeHtml(self.api.data[self.api.current].title) + '</div>'\n               + '<div class=\"body\">' + converter.makeHtml(self.api.data[self.api.current].body) + '</div>'\n               + '</html>';\n\n    /* Cordova Air Print */\n\n    if (self.platform.is('cordova')) {\n      this.printer.isAvailable().then(\n        () => {\n        let options: PrintOptions = {\n             name: self.api.data[self.api.current].title,\n             duplex: true,\n             landscape: false,\n             grayscale: true\n         };\n         this.printer.print(_print, options).then(\n          () => {console.log(\"Printing succeeded\");},\n          () => {console.log(\"No Printer Available\");}\n         );\n       },\n       () => {console.log(\"No Printer Available\");}\n     );\n    }\n    else {\n\n      /* Browser Print */\n\n      if (!window.frames[\"print-frame\"]) {\n        var elm = document.createElement('iframe');\n        elm.setAttribute('id', 'print-frame');\n        elm.setAttribute('name', 'print-frame');\n        elm.setAttribute('style', 'display: none;');\n        document.body.appendChild(elm);\n      }\n\n      var _frame = <HTMLIFrameElement>document.getElementById('print-frame');\n      var _doc;\n      if (_frame.contentDocument) { // DOM\n          _doc = _frame.contentDocument;\n      } else if (_frame.contentWindow) { // IE win\n          _doc = _frame.contentWindow.document;\n      } else {\n          _doc = false;\n      }\n\n      if (_doc !== false) {\n        _doc.write(_print);\n        _doc.close();\n        if (window.navigator.userAgent.indexOf (\"MSIE\") > 0) {\n            _frame.contentWindow.document.execCommand('print', false, null);\n        } else {\n            _frame.contentWindow.focus();\n            _frame.contentWindow.print();\n        }\n      }\n    }\n  }\n\n  selectAll(event) {\n    if (!this.initialized) return false;\n    event.target.select();\n  }\n\n\n\n  wordcount(str) {\n    return str.split(/[^\\s]+/).length;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/editor/editor.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { Api } from '../../services/rfapi.component';\n\n/*\n  Generated class for the Book page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-book',\n  templateUrl: 'book.html'\n})\nexport class Book {\n\n  constructor(\n    public api:Api,\n    public navCtrl: NavController\n  ) {}\n\n  ionViewDidLoad() {\n    console.log(this.api.issues, this.api.current_issue);\n  }\n\n\n  deleteIssue(issueId) {\n    console.log(issueId);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/book/book.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { CodemirrorModule } from 'ng2-codemirror';\nimport { ProsemirrorModule } from 'ng2-prosemirror';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpModule} from '@angular/http';\nimport { MyApp } from './app.component';\nimport { Settings } from '../pages/settings/settings';\nimport { Editor } from '../pages/editor/editor';\nimport { Book } from '../pages/book/book';\nimport { Autoresize } from '../directives/shrink';\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    Settings,\n    Editor,\n    Book,\n    Autoresize\n  ],\n  imports: [\n    HttpModule,\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    CodemirrorModule,\n    ProsemirrorModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    Settings,\n    Editor,\n    Book\n  ],\n  providers: [{provide: ErrorHandler, useClass: IonicErrorHandler}]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform, Events } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { Settings } from '../pages/settings/settings';\nimport { Editor } from '../pages/editor/editor';\nimport { Book } from '../pages/book/book';\nimport { Api } from '../services/rfapi.component';\n\n\ndeclare var ipcRenderer: any;\ndeclare var electron: any;\n\n\n@Component({\n  templateUrl: 'app.html',\n  providers: [\n    StatusBar,\n    SplashScreen,\n    Api\n  ]\n})\n\n\n\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n\n  rootPage: any = Editor;\n  events: any;\n  editor: any = false;\n  pages: Array<{title: string, component: any, icon: string}>;\n  electron: any;\n\n  constructor(\n    public platform: Platform,\n    private api:Api,\n    private statusBar: StatusBar,\n    private splashScreen: SplashScreen,\n    events: Events\n  ) {\n    this.events = events;\n    this.initializeApp();\n    this.electron = electron;\n\n\n    // used for an example of ngFor and navigation\n    this.pages = [\n      { title: 'Settings', component: Settings, icon: 'settings' },\n      { title: 'Book',   component: Book, icon: 'book' },\n      { title: 'Editor',   component: Editor, icon: 'document' }\n    ];\n  }\n\n  initializeApp() {\n\n    //let self = this;\n\n    if (ipcRenderer) {\n      ipcRenderer.on('main:ipc', (event, message) => {\n        if (message === 'leave-full-screen') {\n          this.toggleFs(false);\n        }\n        if (message === 'enter-full-screen') {\n          this.toggleFs(true);\n        }\n\n        if (message === 'next-document') {\n          if (!this.editor) return;\n          if (this.editor.slider.isEnd()) return;\n          this.editor.slider.slideNext();\n        }\n        if (message === 'previous-document') {\n          if (!this.editor) return;\n          if (this.editor.slider.isBeginning()) return;\n          this.editor.slider.slidePrev();\n        }\n        if (message === 'save-document') {\n          if (!this.editor) return;\n          this.editor.api.change();\n        }\n        if (message === 'new-document') {\n          if (!this.editor) return;\n          this.editor.addPage();\n        }\n        if (message === 'print-document') {\n          if (!this.editor) return;\n          this.editor.printPage();\n        }\n        if (message === 'set-title' || message === 'set-identifier') {\n          if (!this.editor) return;\n          this.editor.openModal(message);\n        }\n        if (message === 'export-data') {\n          ipcRenderer.send('master:ipc:export', this.api.data[this.api.current])\n        }\n\n\n      })\n    }\n\n\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n\n      console.log(this.platform)\n\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n      //if (this.nav.getActive().name === \"Editor\") {\n      //  this.editor = this.nav.getActive().instance;\n      //}\n    });\n  }\n\n  toggleFs(mode) {\n\n    this.api.fullscreen = mode || !this.api.fullscreen;\n\n    /* Electron: Setting the local fullscreen flag after ipc callback in construtor */\n    if (electron) {\n      var window = electron.remote.getCurrentWindow();\n      window.setFullScreen(this.api.fullscreen);\n    }\n\n    this.events.publish('page:redraw');\n\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    var self = this;\n    this.nav.setRoot(page.component).then(function(e){\n      if (self.nav.getActive().name === \"Editor\") {\n        self.editor = self.nav.getActive().instance;\n      }\n      else {\n        self.editor = false;\n      }\n    });\n  }\n\n  openEditor(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    var self = this;\n    if (this.nav.getActive().name === \"Editor\") {\n      this.events.publish('page:change', page);\n    }\n    else {\n      //this.nav.setRoot(Editor, {page: page});\n      this.nav.setRoot(Editor).then(function(e){\n        self.events.publish('page:change', page);\n        self.editor = self.nav.getActive().instance;\n      });\n    }\n  }\n\n  reorderPages(indexes) {\n    this.api.reorder(indexes);\n  }\n\n  deletePage(item) {\n    this.api.delete(item);\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Directive, HostListener, ElementRef } from \"@angular/core\";\n\n@Directive({\nselector: \"ion-textarea[autoresize]\" // Attribute selector\n})\nexport class Autoresize {\n  @HostListener(\"input\", [\"$event.target\"])\n  onInput(textArea: HTMLTextAreaElement): void {\n    this.adjust();\n  }\n\n  constructor(public element: ElementRef) {\n  }\n\n  ngAfterViewInit(): void {\n    this.adjust();\n  }\n\n  adjust(): void {\n    let ta = this.element.nativeElement.querySelector(\"textarea\");\n    if (ta !== null) {\n      ta.style.overflow = \"hidden\";\n      ta.style.height = \"auto\";\n      ta.style.height = ta.scrollHeight + \"px\";\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/shrink.ts","import {Component, Injectable, NgZone, ApplicationRef} from \"@angular/core\";\nimport {Http, Headers, RequestOptions, URLSearchParams} from \"@angular/http\";\nimport 'rxjs/Rx';\nimport { reorderArray, Platform, Events } from 'ionic-angular';\n//import { Issue } from './issues';\nimport PouchDB from 'pouchdb';\n\n\ninterface dataset {\n    name:     string;\n    title:    string;\n    body:     string;\n    id:       number;\n    sort:     number;\n    moddate:  number;\n    modified: number;\n    issue:    number;\n    syncId:   string;\n};\n\n@Injectable()\n\nexport class Api {\n    http: Http;\n    storage:  any = {};\n    credentialsdb: any;\n    current: number = 0;\n    jwt: boolean = false;\n    getOptions: any;\n    postOptions: any;\n    issues: any;\n    Issue: any;\n    current_issue: number = 0;\n    debounce: any = null;\n    debounceBookStore: any = null;\n    initialized: any = false;\n    onDevice: boolean;\n    zone: NgZone;\n    events: Events;\n    sync: any;\n    fullscreen: boolean = false;\n    dbsettings: any = {\n      size: 50,\n      auto_compaction: true\n    };\n\n\n    data: Array < dataset > = [];\n\n    credentials: {user: string, rwkey: string, server: string} = {\n      user:   \"\",\n      rwkey:  \"\",\n      server: \"\"\n    };\n\n\n    constructor (\n      http:Http,\n      platform: Platform,\n      zone: NgZone,\n      events: Events,\n      public applicationRef : ApplicationRef\n    ) {\n      this.http = http;\n      this.events = events;\n      this.onDevice = platform.is('cordova');\n      this.zone = zone;\n      this.credentialsdb = new PouchDB('rfWriter-credentials', this.dbsettings)\n      this.initialize();\n  }\n\n  destroyDB() {\n\n\n    this.storage.issues.destroy().then(function () {\n      console.log(\"issues destroyed\")\n    }).catch(function (err) {\n      console.log(\"issues not found\")\n    })\n    this.credentialsdb.destroy().then(function () {\n      console.log(\"credentials destroyed\")\n    }).catch(function (err) {\n      console.log(\"credentials not found\")\n    })\n    this.storage.settings.destroy().then(function () {\n      console.log(\"settings destroyed\")\n    }).catch(function (err) {\n      console.log(\"settings not found\")\n    })\n\n    for (let k = 0; k < this.storage.data.length; k++) {\n      let d = this.storage.data[k];\n      if (d && typeof d.destroy === \"function\") {\n        d.destroy().then(function () {\n          console.log(\"data destroyed\")\n        }).catch(function (err) {\n          console.log(\"data not found\")\n        })\n      }\n    }\n\n    this.storage = {};\n    this.data = [];\n    this.credentialsdb = false;\n\n\n\n  }\n\n  initialize() {\n    console.log(\"Initializing API\");\n    this.current = 0;\n    this.sync = {\n      contributions: []\n    };\n    this.credentialsdb.get('credentials').then((credentials) => {\n      if (credentials && credentials.data) {\n        this.credentials = credentials.data;\n\n        this.storage = {\n          issues      : new PouchDB(`rfWriter-issues-${this.credentials.user}`, this.dbsettings),\n          settings    : new PouchDB(`rfWriter-settings-${this.credentials.user}`, this.dbsettings),\n          data        : []\n        };\n\n        console.log(`Local DB:\\n- rfWriter-issues-${this.credentials.user}\\n- rfWriter-settings-${this.credentials.user}\\n- rfWriter-data-${this.credentials.user}`);\n\n        this.syncIssues().then((success) => {\n          this.dbIssuesGet('issues').then((issues_offline) => {\n            this.issues = issues_offline || false;\n            this.storage.settings.get('current_issue').then((current_issue) => {\n              console.log(\"--------> current issue:\", current_issue);\n              this.current_issue = current_issue.data ||\n                                  (this.issues === false ? false : this.issues.Issues[0].Id);\n              this.loadData(this.current_issue).then((success) => {\n                console.log(\"... Data Loaded\");\n                this.syncData().then(()=>{\n                  console.log(\"... Data Synced\");\n                })\n              });\n            }).catch((error) => {\n              this.current_issue = this.issues === false ? false : this.issues.Issues[0].Id;\n              this.loadData(this.current_issue).then((success) => {\n                console.log(\"... Data Loaded\");\n                this.syncData().then(()=>{\n                  console.log(\"... Data Synced\");\n                })\n              });\n              console.log(\"---NO CURRENT ISSUE---\", error);\n            });\n          })\n        });\n      }\n      else {\n        this.initialized = false;\n      }\n    }).catch((error) => {\n      console.log(\"---NO CREDENTIALS---\", error);\n    });\n  }\n\n  resolveIssue() {\n    this.issues.Issues.forEach((i) => {\n      if (i.Id == this.current_issue) {\n        this.Issue = i;\n        if (this.Issue.Options[0] == null) {\n          this.Issue.Options[0] = {};\n        }\n\n        console.log(this.Issue);\n      }\n    })\n  }\n\n  loadData(issue:number): Promise<any> {\n    if (this.storage.data[issue] === undefined) {\n      this.storage.data[issue] = new PouchDB(`rfWriter-data-${issue}`, this.dbsettings);\n    }\n    this.resolveIssue();\n    return new Promise(resolve => {\n      this.dbGet(issue).then((local_data) => {\n        this.data = local_data || [];\n        //this.dbIssuesGet('current').then((d) => {\n        //  console.log(\"- loading current page\");\n        //  this.current = d || this.current;\n          this.initialized = true;\n          this.events.publish('page:change', this.current);\n          resolve(true);\n        //});\n      })\n    })\n  }\n\n  syncIssues(): Promise<any> {\n      var self = this;\n      return new Promise(resolve => {\n        this.sync.issues = this.storage.issues.sync(`${this.credentials.server}/rf-${this.credentials.user}`, {\n          live: true,\n          retry: true,\n          continuous: true,\n          auth: {\n            username: self.credentials.user,\n            password: self.credentials.rwkey\n          }\n        }).on('change', function (info) {\n          // handle change\n          if (info.direction === \"pull\") {\n            console.log('GOT ISSUES SYNC');\n            info.change.docs.forEach((d) => {\n                if (d._id === \"issues\"){\n                  console.log(\"Sync Issues\", d.data, self);\n                  self.issues = d.data;\n                  console.log(`Current Issue: ${self.current_issue}`)\n                }\n            });\n            self.zone.run(() => {});\n            resolve(true);\n          }\n        })\n        .on('paused',   function (err)  {self.jwt = true; console.log(\"----> paused\"); resolve(true);})\n        .on('active',   function ()     {self.jwt = true; console.log(\"----> active\"); resolve(true);})\n        .on('denied',   function (err)  {self.jwt = false; console.log(\"----> denied\"); resolve(false);})\n        .on('complete', function (info) {console.log(\"----> complete\"); resolve(true);})\n        .on('error',    function (err)  {self.jwt = false; console.log(\"----> error\");  resolve(false);});\n      });\n    }\n\n    syncData(): Promise<any> {\n\n      this.sync.contributions = this.sync.contributions || [];\n\n      var self = this;\n      return new Promise(resolve => {\n        if (this.storage.data[this.current_issue] === undefined || !this.current_issue){\n          console.log(\"Cannot Sync: No Storage Engine\")\n          resolve(false);\n          return;\n        }\n        if (this.sync.contributions[this.current_issue]) {\n          console.log(\"Syncing Set up for this issue\")\n          resolve(true);\n          return;\n        }\n\n        console.log(`setting up sync data for issue ${this.current_issue}`)\n        this.sync.contributions[this.current_issue] = this.storage.data[this.current_issue].sync(`${this.credentials.server}/issue-${this.current_issue}`, {\n          live: true,\n          retry: true,\n          continuous: true,\n          auth: {\n            username: self.credentials.user,\n            password: self.credentials.rwkey\n          }\n        }).on('change', function (info) {\n          // handle change\n\n          //console.log(info)\n\n          if (info.direction === \"pull\" ) {\n            let fullSync = false;\n            let reSort = false;\n\n            console.log(info.change.docs, self.data);\n\n            info.change.docs.forEach((d) => {\n              let needsUpdate = true;\n\n              for (let k = 0; k < self.data.length; k++) {\n                let ld = self.data[k];\n                //console.log(k, d, ld);\n                if (d._id.indexOf(ld.syncId) !== -1) {\n                  if (d._deleted === true) {\n                    console.log(`add ${k} to delete array`, ld);\n                    self.data.splice(k, 1);\n                    self.data.forEach((e,i) => {\n                      if (e.sort != i) {\n                        e.sort = i;\n                      }\n                    })\n                  }\n                  else {\n                    console.log(`GOT DATA SYNC ---> ${ld.syncId}`, d.data);\n                    self.data[k] = d.data;\n                    needsUpdate = false;\n                    if (ld.sort != d.data.sort) {\n                      reSort = true;\n                    }\n                  }\n                }\n              }\n              if (needsUpdate) fullSync = true;\n            });\n\n\n            if (fullSync) {\n              console.log(`FULL SYNC NEEDED`);\n              self.loadData(self.current_issue);\n            }\n            else if (reSort) {\n              console.log(`RESORT NEEDED`);\n              self.data.sort(function (a, b) {\n                return a.sort - b.sort;\n              });\n            }\n            self.zone.run(() => {});\n            resolve(true);\n          }\n        })\n        .on('paused',   function (err)  {console.log(\"----> sync data paused\"); resolve(true);})\n        .on('active',   function ()     {console.log(\"----> sync data active\"); resolve(true);})\n        .on('denied',   function (err)  {console.log(\"----> sync data denied\", err); resolve(false);})\n        .on('complete', function (info) {console.log(\"----> sync data complete\"); resolve(true);})\n        .on('error',    function (err)  {console.log(\"----> sync data error\", err); resolve(false);})\n        .catch((err) => {\n          console.log(err);\n          resolve(false);\n        });\n      });\n    }\n\n    dbIssuesStore(document:string, data:any): Promise<any> {\n      let self = this;\n      return new Promise(resolve => {\n        self.storage.issues.get(document)\n        .then(function(doc) {\n          self.storage.issues.put({\n            _id: document,\n            _rev: doc._rev,\n            data: data\n          }).then((response) => {\n            resolve(true);\n          }).catch((err) => {\n            resolve(false);\n          });\n        })\n        .catch(function (err) {\n          self.storage.issues.put({\n            _id: document,\n            data: data\n          })\n          .then((response) => {\n            resolve(true);\n          })\n          .catch((err)=>{\n            resolve(false);\n          })\n        });\n      });\n    }\n\n    dbIssuesGet(document:string): Promise<any> {\n      var self = this;\n      return new Promise(resolve => {\n        self.storage.issues.get(document).then(function(doc) {\n          resolve(doc.data);\n        }).catch(function (err) {\n          self.storage.issues.put({\n            _id: document,\n            data: false\n          }).then(function(doc) {\n            resolve(false);\n          });\n        });\n      });\n    }\n\n   /**\n    *\n    *  Store Documents\n    *\n    **/\n\n    dbStore(issue:number, data:any): Promise<any> {\n      let self = this;\n      let document = `contribution-${issue}-${data.syncId}`;\n      return new Promise(resolve => {\n        if (!this.current_issue) {\n          resolve(false);\n          return;\n        }\n        self.storage.data[issue].get(document)\n        .then(function(doc) {\n          self.storage.data[issue].put({\n            _id: document,\n            _rev: doc._rev,\n            data: data\n          }).then((response) => {\n            resolve(true);\n          }).catch((err) => {\n            resolve(false);\n          });\n        })\n        .catch(function (err) {\n          self.storage.data[issue].put({\n            _id: document,\n            data: data\n          })\n          .then((response) => {\n            resolve(true);\n          })\n          .catch((err)=>{\n            resolve(false);\n          })\n        });\n      });\n    }\n\n    /**\n     *\n     *  Bulk Load Documents - on Init and Issue change\n     *\n     **/\n\n    dbGet(issue:number): Promise<any> {\n      var self = this;\n      return new Promise(resolve => {\n        console.log(`ok - here we go. trying to read all contributions starting with: contribution-${issue}`);\n\n        self.storage.data[issue].allDocs({\n          include_docs: true,\n          attachments: true,\n          startkey: `contribution-${issue}`,\n          endkey: `contribution-${issue}\\uffff`\n        }).then(function (result) {\n          let _data = [];\n          result.rows.sort(function (a, b) {\n            if (a.doc.data != null && b.doc.data != null && a.doc.data.sort && b.doc.data.sort)\n              return a.doc.data.sort - b.doc.data.sort;\n            else\n              return 0;\n          });\n          result.rows.forEach((d) => {\n            if (d.doc.data) {\n              _data.push(d.doc.data);\n            }\n          })\n          //console.log(result.rows);\n          resolve(_data);\n        }).catch(function (err) {\n          console.log(err);\n        });\n      });\n    }\n\n    changeIssue() {\n      var self = this;\n      self.resolveIssue();\n      return new Promise(resolve => {\n        self.storage.settings.get('current_issue')\n        .then(function(doc) {\n          self.storage.settings.put({\n            _id: 'current_issue',\n            _rev: doc._rev,\n            data: self.current_issue\n          }).then((response) => {\n            self.setCurrent(0);\n            self.loadData(self.current_issue).then(()=>{\n              console.log(\"Switched to \" + self.current_issue);\n              self.syncData().then(()=>{\n                console.log(\"Data Synced\");\n                resolve(true);\n              })\n            })\n          }).catch((err) => {\n            resolve(false);\n          });\n        })\n        .catch(function (err) {\n          self.storage.settings.put({\n            _id: 'current_issue',\n            data: self.current_issue\n          })\n          .then((response) => {\n            self.setCurrent(0);\n            self.loadData(self.current_issue).then(()=>{\n              console.log(\"Switched to \" + self.current_issue);\n              self.syncData().then(()=>{\n                console.log(\"Data Synced\");\n                resolve(true);\n              })\n            })\n          })\n          .catch((err)=>{\n            resolve(false);\n          })\n        });\n      });\n    }\n\n    changeDebounce() {\n      if (this.debounce !== null) {\n        clearTimeout(this.debounce);\n      }\n      this.debounce = setTimeout(() => {\n        this.change();\n      }, 1000);\n    }\n\n\n    change() {\n      if (this.initialized === false) return;\n      if (this.data[this.current] === undefined) return;\n      this.data[this.current].modified = 0;\n      this.dbStore(this.current_issue, this.data[this.current]);\n      console.log('Local Store Doc Complete', this.current, this.data[this.current]);\n    }\n\n    reorder(indexes){\n      if (this.initialized === false) return;\n      this.data = reorderArray(this.data, indexes);\n      this.data.forEach((e,i) => {\n        if (e.sort != i) {\n          e.sort = i;\n          this.dbStore(this.current_issue, e);\n        }\n      })\n    }\n\n    delete(item) {\n      if (this.initialized === false) return;\n\n      // Move Page back before delete if on the last page\n      if (this.current == this.data.length - 1 && this.current > 0) {\n        this.current--;\n        this.events.publish('page:change', this.current);\n      }\n\n      let _delete = this.data.splice(item, 1);\n      let _doc = `contribution-${this.current_issue}-${_delete[0].syncId}`;\n      let self = this;\n      console.log(`Deleting: ${_doc}`);\n\n      this.storage.data[this.current_issue].get(_doc).then(function (doc) {\n        console.log(`Deleted ${_delete[0].syncId} from DB`);\n        /*self.data.forEach((e,i) => {\n          if (e.sort != i) {\n            e.sort = i;\n            self.dbStore(self.current_issue, e);\n          }\n        })*/\n        return self.storage.data[self.current_issue].put({\n          _id: doc._id,\n          _rev: doc._rev,\n          _deleted: true,\n          data: doc.data.id\n        })\n        //return self.storage.data.remove(doc);\n      });\n    }\n\n    add(position: number) {\n      let _data = {\n        name: 'rf001',\n        title: 'Empty Title',\n        body: \"Write Here\",\n        id: -1,\n        sort: 0,\n        moddate: 0,\n        modified: 0,\n        issue: this.current_issue,\n        syncId: this.guid(),\n      };\n      let self = this;\n      return new Promise(resolve => {\n        this.dbStore(this.current_issue, _data).then((d) => {\n          self.data.splice(position, 0, _data);\n          self.data.forEach((e,i) => {\n            if (e.sort != i) {\n              e.sort = i;\n              this.dbStore(this.current_issue, e);\n            }\n          })\n          self.setCurrent(position);\n          setTimeout(() => {\n            this.applicationRef.tick();\n            setTimeout(() => {\n              self.events.publish('page:change', position);\n            }, 250);\n          }, 250);\n          resolve(true);\n        });\n      });\n    }\n\n    setCurrent(id:number) {\n      if (this.initialized === false) return;\n      console.log(\"Updating Current Set \", id);\n      this.current = id;\n    }\n\n    getCurrentData() {\n      return this.data[this.current];\n    }\n\n    getCurrent() {\n      return this.current;\n    }\n\n    /* Called if settings changed */\n    storeCredentials() {\n      var self = this;\n      console.log(this.credentials);\n      return new Promise(resolve => {\n        self.credentialsdb.get('credentials')\n        .then(function(doc) {\n          self.credentialsdb.put({\n            _id: 'credentials',\n            _rev: doc._rev,\n            data: self.credentials\n          }).then((response) => {\n            resolve(true);\n          }).catch((err) => {\n            resolve(false);\n          });\n        })\n        .catch(function (err) {\n          self.credentialsdb.put({\n            _id: 'credentials',\n            data: self.credentials\n          })\n          .then((response) => {\n            resolve(true);\n          })\n          .catch((err)=>{\n            resolve(false);\n          })\n        });\n      });\n    }\n\n    logIn() {\n      var self = this;\n      if (!this.credentialsdb) {\n        this.credentialsdb = new PouchDB('rfWriter-credentials', this.dbsettings)\n      }\n      this.storeCredentials().then((response) => {\n        /*self.syncIssues();\n        self.syncData();*/\n        if (response === true) {\n          if (!self.initialized) {\n            self.initialize();\n            setTimeout(function() {\n                window.location.reload();\n            }, 2000);\n          }\n        }\n      }).catch((err) => {\n        console.log(err)\n      });\n    }\n\n    logOut() {\n      this.jwt = false;\n      if (this.sync) {\n        if (this.sync.issues && typeof this.sync.issues.cancel === \"function\") {\n          this.sync.issues.cancel(); // whenever you want to cancel\n        }\n        for (let i = 0; i < this.sync.contributions.length; i++) {\n          if (this.sync.contributions[i] && typeof this.sync.contributions[i].cancel === \"function\") {\n            this.sync.contributions[i].cancel();\n          }\n        }\n        this.sync = {\n          contributions: []\n        };\n      }\n      this.issues = false;\n      this.initialized = false;\n      this.credentials = {user: \"\", rwkey: \"\", server: \"\"};\n      this.destroyDB();\n    }\n\n    guid() {\n      function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000)\n          .toString(16)\n          .substring(1);\n      }\n      return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n        s4() + '-' + s4() + s4() + s4();\n    }\n\n    bookStore() {\n      if (this.debounceBookStore !== null) {\n        clearTimeout(this.debounceBookStore);\n      }\n      this.debounceBookStore = setTimeout(() => {\n        console.log(`Init Issue Storing...`);\n        this.dbIssuesStore('issues', this.issues).then((e) => {\n          console.log(`Issues Stored: ${e}`);\n        })\n      }, 1000);\n\n\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/rfapi.component.ts"],"sourceRoot":""}