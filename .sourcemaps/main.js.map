{"version":3,"sources":["../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/settings/settings.ts","../../src/pages/editor/editor.ts","../../src/pages/book/book.ts","../../src/pages/exports/exports.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/services/rfapi.component.ts","../../src/directives/shrink.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 172;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 172\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 217;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 217\n// module chunks = 0","import { Component } from '@angular/core';\nimport { Http, Headers } from '@angular/http';\nimport { NavController } from 'ionic-angular';\nimport { Api } from '../../services/rfapi.component';\n\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\nexport class Settings {\n\n  errorMessage: any;\n\n  signup: any =  {\n    email: \"\",\n    sent: false,\n    error: false,\n    message: \"\",\n    emit: async function() {\n      try {\n        let _headers = new Headers({'Content-Type': 'application/json'});\n        let _res = await this.http.post(\n          this.api.credentials.server + \"/signup\", \n          JSON.stringify({email: this.signup.email}),\n          {headers: _headers}).toPromise();\n        this.signup.sent = _res.ok === true && _res.json().state === \"ok\";\n        this.signup.error = _res.json().state === \"error\"\n        this.signup.message = _res.json().message;\n      } catch (err) {\n        this.api.showAlert(\"Connection Failed\", \"Check the server url or enable your internet connection.\");\n      }\n      \n    }.bind(this)\n  }\n\n  constructor(\n    public navCtrl: NavController,\n    public api:Api,\n    private http: Http\n  )\n  {\n    this.http = http;\n  }\n\n  ngOnInit() {\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","\nimport { Component, ViewChild } from '@angular/core';\nimport { Printer, PrintOptions } from '@ionic-native/printer';\nimport { Platform, NavController, Slides, Events, AlertController, LoadingController } from 'ionic-angular';\nimport { Api } from '../../services/rfapi.component';\n//import 'codemirror/mode/markdown/markdown.js';\n//import 'codemirror/addon/scroll/simplescrollbars.js';\n//import 'codemirror/addon/fold/foldcode.js';\n//import 'codemirror/addon/fold/foldgutter.js';\n//import 'codemirror/addon/fold/markdown-fold.js';\nimport {Converter} from \"showdown/dist/showdown\";\n\n@Component({\n  selector: 'page-editor',\n  templateUrl: 'editor.html',\n  providers: [Printer]\n})\n\nexport class Editor {\n  service: any;\n  content: any;\n  mySlideOptions: any;\n  initialSlide: number = 0;\n  initialized: boolean = false;\n\n  afterSaveCallback: any;\n  confirm: any;\n  timeout_change: any;\n  \n  //ctrl: any;\n\n  /*cm_options: any = {\n    viewportMargin: 10,\n    mode: 'markdown',\n    lineNumbers: false,\n    theme: \"default\",\n    inputStyle: \"textarea\",\n    lineWrapping: true,\n    scrollbarStyle: 'overlay',\n    foldGutter: true,\n    gutters: [\"CodeMirror-foldgutter\"]\n  };\n*/\n\n  @ViewChild('mySlider') slider: Slides;\n\n  constructor(\n    public navCtrl: NavController,\n    public api:Api,\n    public events: Events,\n    public alert: AlertController,\n    public loadingCtrl: LoadingController,\n    public platform: Platform,\n    public printer: Printer\n  ) {\n    var self = this;\n\n    //self.cm_options.cursorBlinkRate = self.platform.is('core') ? \"500\" : -1;\n\n    events.subscribe('page:change', (page) => {\n      console.log(\"got page change\");\n      self.slider.slideTo(page);\n      /*\n      if (self.slider.getSlider() !== undefined && typeof self.slider.slideTo === \"function\") {\n        setTimeout(() => {\n          console.log('done')\n          self.slider.slideTo(page);\n        }, 250);\n      }*/\n    });\n\n    events.subscribe('page:redraw', (page) => {\n      console.log(\"got page redraw\");\n      self.slider.slideTo(self.slider.getActiveIndex(), 0, false)\n      /*\n      console.log(self.slider);\n      if (self.slider.getSlider() !== undefined) {\n        setTimeout(() => {\n          let s = self.slider.getSlider();\n          //s.update();\n          self.slider.slideTo(self.slider.getActiveIndex(), 0, false);\n        }, 250);\n      }*/\n    });\n\n    //console.log(\"Initialize Slide \", self.initialSlide);\n    //if (self.initialized && self.slider) {\n    //  self.slider.slideTo(self.initialSlide, 0);\n    //}\n    self.mySlideOptions = {\n      direction: \"vertical\",\n      onlyExternal: true,\n      slidesPerView: 1,\n      runCallbacksOnInit: false,\n      preventClicksPropagation: false,\n      preventClicks: false,\n      initialSlide: self.api.getCurrent(),\n      onInit: (slides: any) => {\n        self.initialized = true;\n      }\n    };\n  }\n\n  trackByFn(index, i) {\n    return i.syncId;\n  }\n\n  openModal(mode) {\n\n    var _title, _message, _placeholder, _data, _value;\n\n    var self = this;\n\n    if (mode === \"set-title\") {\n      _title = \"Title\";\n      _placeholder = this.api.data[this.api.getCurrent()].title;\n      _value = _placeholder != 'Empty Title' ? _placeholder : false;\n      _data = \"title\";\n      _message = \"Set Document Title\";\n    }\n    if (mode === \"set-identifier\") {\n      _title = \"ID\";\n      _placeholder = this.api.data[this.api.getCurrent()].name;\n      _data = \"name\";\n      _value = _placeholder != 'rf001' ? _placeholder : false;\n      _message = \"Set Document Identifier\";\n    }\n\n    let _confirm = this.alert.create({\n      title: _title,\n      message: _message,\n      inputs: [\n        {\n          name: _title,\n          placeholder: _placeholder,\n          value: _value\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Save',\n          handler: data => {\n            console.log('Saved clicked', data);\n            self.api.data[self.api.getCurrent()][_data] = data[_title];\n            self.api.change();\n          }\n        }\n      ]\n    });\n    _confirm.present();\n  }\n\n  ngAfterViewInit() {\n    this.initialized = true;\n    this.slider.onlyExternal = true;\n    this.slider.paginationType = \"fraction\";\n    this.slider.simulateTouch = false;\n    this.slider.touchEventsTarget = \"container\";\n    this.slider.keyboardControl = false;\n  }\n\n/*\n  ngAfterViewChecked() {\n    if (this && this.slider && this.slider.getSlider() !== undefined && typeof this.slider.slideTo === \"function\") {\n      if (Number(this.slider.getActiveIndex()) !== this.api.getCurrent()) {\n        console.log(\"Manual Update needed...\")\n        //this.slider.slideTo(this.api.getCurrent())\n      }\n    }\n  }\n*/\n  ionViewDidLoad() {\n\n  }\n\n  ionViewCanLeave(): Promise<boolean> {\n    if (this.initialized && this.api.data && this.api.data.length > 0) {\n      this.api.change();\n    }\n    return new Promise((resolve, reject) => {\n      let _confirm = this.alert.create({\n        title: 'Unsafed Changes',\n        message: 'Leaving the editor might cause data loss.',\n        buttons: [{\n          text: 'OK',\n          handler: () => {\n            resolve(true);\n          },\n        }],\n      });\n      if (this.api.data && this.api.data.length > 0 && this.api.data[this.api.getCurrent()].modified == 1) {\n        _confirm.present();\n      }\n      else {\n        resolve(true);\n      }\n    })\n  }\n\n  slideWillChange() {\n    if (!this.initialized) return false;\n    this.api.setCurrent(this.slider.getActiveIndex());\n  }\n\n  _checkunsafed(cb) {\n    try {\n      if (this.api.data[this.api.getCurrent()].modified == 1) {\n        this.afterSaveCallback = cb;\n        this.confirm = this.loadingCtrl.create({content: 'Saving Changes'})\n        this.confirm.present();\n      }\n      else {\n        this.afterSaveCallback = null;\n        cb(this);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  next() {\n    this._checkunsafed(function(t){t.slider.slideNext();});\n  }\n\n  prev() {\n    this._checkunsafed(function(t){t.slider.slidePrev();});\n  }\n\n\n  change() {\n    this.api.change();\n    if (this.afterSaveCallback) {\n      this.afterSaveCallback(this);\n      this.afterSaveCallback = null;\n      this.confirm.dismiss();\n    }\n  }\n\n  changeDebounce() {\n    if (this.timeout_change !== null) {\n      clearTimeout(this.timeout_change);\n    }\n    this.api.data[this.api.getCurrent()].modified = 1;\n    this.timeout_change = setTimeout(() => {\n      this.change();\n    }, 1000);\n  }\n\n  slideDidChange() {\n    if (!this.initialized) return false;\n  }\n\n  addPage() {\n    if (!this.initialized) return false;\n    let index = this.api.data.length == 0 ? 0 : this.slider.getActiveIndex() + 1;\n    this.api.add(index);\n    console.log(\"Page Added\")\n  }\n\n  printPage() {\n    const converter = new Converter();\n    converter.setOption('simpleLineBreaks', true);\n    var self  = this;\n    var _print = '<!DOCTYPE html><html><head>  '\n               + '<link href=\"build/print.css\" rel=\"stylesheet\" media=\"print\">'\n               + '</head><body class=\"print\">'\n               + '<div class=\"title\">' + converter.makeHtml(self.api.data[self.api.getCurrent()].title) + '</div>'\n               + '<div class=\"body\">' + converter.makeHtml(self.api.data[self.api.getCurrent()].body) + '</div>'\n               + '</html>';\n\n    /* Cordova Air Print */\n\n    if (self.platform.is('cordova')) {\n      this.printer.isAvailable().then(\n        () => {\n        let options: PrintOptions = {\n             name: self.api.data[self.api.getCurrent()].title,\n             duplex: true,\n             landscape: false,\n             grayscale: true\n         };\n         this.printer.print(_print, options).then(\n          () => {console.log(\"Printing succeeded\");},\n          () => {console.log(\"No Printer Available\");}\n         );\n       },\n       () => {console.log(\"No Printer Available\");}\n     );\n    }\n    else {\n\n      /* Browser Print */\n\n      if (!window.frames[\"print-frame\"]) {\n        var elm = document.createElement('iframe');\n        elm.setAttribute('id', 'print-frame');\n        elm.setAttribute('name', 'print-frame');\n        elm.setAttribute('style', 'display: none;');\n        document.body.appendChild(elm);\n      }\n\n      var _frame = <HTMLIFrameElement>document.getElementById('print-frame');\n      var _doc;\n      if (_frame.contentDocument) { // DOM\n          _doc = _frame.contentDocument;\n      } else if (_frame.contentWindow) { // IE win\n          _doc = _frame.contentWindow.document;\n      } else {\n          _doc = false;\n      }\n      \n\n      if (_doc !== false) {\n        _doc.write(_print);\n        _doc.close();\n        if (window.navigator.userAgent.indexOf (\"MSIE\") > 0) {\n            _frame.contentWindow.document.execCommand('print', false, null);\n        } else {\n            _frame.contentWindow.focus();\n            _frame.contentWindow.print();\n        }\n      }\n    }\n  }\n\n  selectAll(event) {\n    if (!this.initialized) return false;\n    event.target.select();\n  }\n\n  wordcount(str) {\n    return str.split(/[^\\s]+/).length;\n  }\n\n  showInfo() {\n    let _message = `Rokfor Id: ${this.api.data[this.api.getCurrent()].id}<br>Characters: ${this.api.data[this.api.getCurrent()].body.length}<br>Words: ${this.wordcount(this.api.data[this.api.getCurrent()].body)}`;\n    let _confirm = this.alert.create({\n      title: \"Document Statistics\",\n      message: _message,\n      buttons: [\n        {\n          text: 'Ok',\n          handler: data => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n    _confirm.present();\n  }\n\n  deletePage() {\n    this.api.delete(this.api.getCurrent());\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/editor/editor.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { Api } from '../../services/rfapi.component';\n\n/*\n  Generated class for the Book page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-book',\n  templateUrl: 'book.html'\n})\nexport class Book {\n\n  constructor(\n    public api:Api,\n    public navCtrl: NavController,\n  ) {\n  }\n\n  ionViewDidLoad() {\n    console.log(this.api.issues, this.api.current.issue);\n  }\n\n\n\n\n  deleteIssue(issueId) {\n    this.api._call(\"/delete\", `Deleted Book ${issueId}`, {issue: issueId}, false);\n  }\n\n\n  shareIssue(issueId) {\n    let _confirm = this.api.alert.create({\n      title: \"Share Book\",\n      message: \"Please enter the access key user to invite:\",\n      inputs: [\n        {\n          name: \"invite\",\n          placeholder: \"xxxxxxxxxxxxx-xxxxxxxxxxxx\"\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: data => {}\n        },\n        {\n          text: 'Save',\n          handler: data => {\n            console.log(data.invite);\n            this.api._call(\"/share\", \"You just shared a book.\", {issue: issueId, invite: data.invite}, false);\n          }\n        }\n      ]\n    });\n    _confirm.present();\n  }\n\n  addIssue() {\n    this.api._call(\"/add\", \"There is a new issue in your booklist\", {}, false);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/book/book.ts","import { Component } from '@angular/core';\nimport { NavController, ModalController, NavParams } from 'ionic-angular';\nimport { Api } from '../../services/rfapi.component';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ModalPage } from 'exports-modal';\n/*\n  Generated class for the Book page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@Component({\n  selector: 'page-exports',\n  templateUrl: 'exports.html'\n})\nexport class Exports {\n  exporters: any;\n  activeExporter: any;\n  constructor(\n    public api:Api,\n    public navCtrl: NavController,\n    public sanitizer : DomSanitizer,\n    public modalCtrl: ModalController\n  ) {\n    this.sanitizer = sanitizer;\n    this.exporters = [];\n    this.activeExporter = false;\n  }\n  async ionViewDidLoad() {\n    let _data = await this.api._call(\"/exporters\", \"\", {}, true);\n    this.exporters = _data.exporters;\n    console.log(this.exporters);\n    if (this.exporters == null) {\n      this.api.showAlert(\"No Connection\", \"Exporting a book requires a internet connection\", null);\n    }\n  }\n  async export() {\n    let _payload = {\n      exporterId: this.activeExporter, \n      issueId: this.api.current.issue\n    };\n    let _data = await this.api._call(\"/export\", `Started export for ${this.api.current.issue_options.Name}`, _payload, false);\n  }\n\n  cleanURL(oldURL : string){\n    return this.sanitizer.bypassSecurityTrustResourceUrl(oldURL);\n  }\n\n  openModal(data) {\n    let modal = this.modalCtrl.create(ModalPage, data);\n    modal.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/exports/exports.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { ProsemirrorModule } from 'ng2-prosemirror';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpModule} from '@angular/http';\nimport { MyApp } from './app.component';\nimport { Settings } from '../pages/settings/settings';\nimport { Editor } from '../pages/editor/editor';\nimport { Exports } from '../pages/exports/exports';\nimport { Book } from '../pages/book/book';\nimport { Autoresize } from '../directives/shrink';\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    Settings,\n    Editor,\n    Book,\n    Exports,\n    Autoresize\n  ],\n  imports: [\n    HttpModule,\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    ProsemirrorModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    Settings,\n    Editor,\n    Book,\n    Exports\n  ],\n  providers: [{provide: ErrorHandler, useClass: IonicErrorHandler}]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform, Events } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { Settings } from '../pages/settings/settings';\nimport { Editor } from '../pages/editor/editor';\nimport { Book } from '../pages/book/book';\nimport { Exports } from '../pages/exports/exports';\nimport { Api } from '../services/rfapi.component';\n\n\ndeclare var ipcRenderer: any;\ndeclare var electron: any;\n\n\n@Component({\n  templateUrl: 'app.html',\n  providers: [\n    StatusBar,\n    SplashScreen,\n    Api\n  ]\n})\n\n\n\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n\n  rootPage: any = Editor;\n  events: any;\n  editor: any = false;\n  pages: Array<{title: string, component: any, icon: string}>;\n  electron: any;\n\n  constructor(\n    public  platform:     Platform,\n    private api:          Api,\n    private statusBar:    StatusBar,\n    private splashScreen: SplashScreen,\n            events:       Events\n  ) {\n    this.events = events;\n    this.initializeApp();\n    this.electron = electron;\n    // used for an example of ngFor and navigation\n    this.pages = [\n      { title: 'Settings', component: Settings, icon: 'settings' },\n      { title: 'Books',   component: Book, icon: 'book' },\n      { title: 'Editor',   component: Editor, icon: 'document' },\n      { title: 'Export',   component: Exports, icon: 'download' }    \n    ];\n  }\n\n  initializeApp() {\n\n    //let self = this;\n\n    if (ipcRenderer) {\n      ipcRenderer.on('main:ipc', (event, message) => {\n        if (message === 'leave-full-screen') {\n          this.toggleFs(false);\n        }\n        if (message === 'enter-full-screen') {\n          this.toggleFs(true);\n        }\n\n        if (message === 'next-document') {\n          if (!this.editor) return;\n          if (this.editor.slider.isEnd()) return;\n          this.editor.slider.slideNext();\n        }\n        if (message === 'previous-document') {\n          if (!this.editor) return;\n          if (this.editor.slider.isBeginning()) return;\n          this.editor.slider.slidePrev();\n        }\n        if (message === 'save-document') {\n          if (!this.editor) return;\n          this.editor.api.change();\n        }\n        if (message === 'new-document') {\n          if (!this.editor) return;\n          this.editor.addPage();\n        }\n        if (message === 'print-document') {\n          if (!this.editor) return;\n          this.editor.printPage();\n        }\n        if (message === 'set-title' || message === 'set-identifier') {\n          if (!this.editor) return;\n          this.editor.openModal(message);\n        }\n        if (message === 'export-data') {\n          ipcRenderer.send('master:ipc:export', this.api.data[this.api.current.page])\n        }\n\n\n      })\n    }\n\n    this.events.subscribe('export:ready', (data) => {\n      console.log(data);\n      this.api.showAlert(\"Export\", `Export ${data.Id} is ready!`, null);\n    });\n\n    this.platform.ready().then(() => {\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n    });\n  }\n\n  toggleFs(mode) {\n\n    this.api.state.fullscreen = mode || !this.api.state.fullscreen;\n\n    /* Electron: Setting the local fullscreen flag after ipc callback in construtor */\n    if (electron) {\n      var window = electron.remote.getCurrentWindow();\n      window.setFullScreen(this.api.state.fullscreen);\n    }\n\n    this.events.publish('page:redraw');\n\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    var self = this;\n    this.nav.setRoot(page.component).then(function(e){\n      if (self.nav.getActive().name === \"Editor\") {\n        self.editor = self.nav.getActive().instance;\n      }\n      else {\n        self.editor = false;\n      }\n    });\n  }\n\n  openEditor(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    var self = this;\n    if (this.nav.getActive().name === \"Editor\") {\n      this.events.publish('page:change', page);\n    }\n    else {\n      //this.nav.setRoot(Editor, {page: page});\n      this.nav.setRoot(Editor).then(function(e){\n        self.events.publish('page:change', page);\n        self.editor = self.nav.getActive().instance;\n      });\n    }\n  }\n\n  reorderPages(indexes) {\n    this.api.reorder(indexes);\n  }\n\n  deletePage(item) {\n    this.api.delete(item);\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {Injectable} from \"@angular/core\";\nimport 'rxjs/Rx';\nimport { reorderArray, Platform, Events, LoadingController, AlertController } from 'ionic-angular';\nimport { Http, Headers } from '@angular/http';\nimport PouchDB from 'pouchdb';\n\n\n\n\ninterface _dataset {\n    name:     string;\n    title:    string;\n    body:     string;\n    id:       number;\n    sort:     number;\n    moddate:  number;\n    modified: number;\n    issue:    number;\n    syncId:   string;\n};\n\ninterface _pouch {\n  credentials : any;\n  settings    : any;\n  data        : any;\n  issues      : any;\n  data_sync   : any;\n  issues_sync : any;\n};\n\ninterface _state {\n  busy        : number;\n  initialized : boolean;\n  message     : string;\n  logged_in   : boolean;\n  on_device   : boolean;\n  fullscreen  : boolean;\n};\n\ninterface _active {\n  page        : number;\n  issue       : number;\n  issue_options: any;\n  exports     : any;    \n}\n\ninterface _credentials {\n  user        : string;\n  key         : string; \n  server      : string; \n}\n\ninterface _debouncers {\n  book        : any;\n}\n\n\n@Injectable()\n\nexport class Api {\n    events: Events;\n\n    timeout: _debouncers = {\n      book: false\n    }\n\n    state: _state = {\n      busy        : 0,\n      initialized : false,\n      message     : \"\",\n      logged_in   : false,\n      on_device   : false,\n      fullscreen  : false\n    };\n    \n    current: _active  = {\n      page          : 0,\n      issue         : null,\n      issue_options : {},\n      exports       : {}\n    };\n    \n    pouch: _pouch = {\n      credentials : null,\n      settings    : null,\n      data        : null,\n      issues      : null,\n      data_sync   : null,\n      issues_sync : null\n    };\n\n    issueoptions: any = [\n      \"ShortTitle\",\n      \"InsideTitle\",\n      \"Subtitle\",\n      \"Author\",\n      \"AuthorShort\",\n      \"ISBN\",\n      \"Imprint\",\n      \"Blurb\",\n      \"Preface\"\n    ];\n    data: Array < _dataset > = [];\n    issues: any;\n    loading: any = null;\n    credentials: _credentials = {\n      user:   \"\",\n      key:  \"\",\n      server: \"\"\n    };\n    dbsettings: any = {\n      size: 50,\n      auto_compaction: true,\n      adapter: 'websql'\n    };\n    helpers: any = {\n\n      /* \n       * Overwrites a document, if not existing, creates a new one \n       */\n\n      _pouchsave: function(db, document, data) {\n        return new Promise((resolve, reject) => {\n          db.get(document)\n          .then(function(doc) {\n            db.put({\n              _id: document,\n              _rev: doc._rev,\n              data: data\n            }).then((response) => {\n              resolve(true);\n            }).catch((err) => {\n              reject(err);\n            });\n          })\n          .catch(function (err) {\n            db.put({\n              _id: document,\n              data: data\n            })\n            .then((response) => {\n              resolve(true);\n            })\n            .catch((err)=>{\n              reject(err);\n            })\n          });\n        });\n      },\n      _pouchcreate: function(db) {\n        return new Promise((resolve, reject) => {\n          let _dbsettings: any = {\n            size: 50,\n            auto_compaction: true\n          };\n          let _db = new PouchDB(db, _dbsettings);\n          setTimeout(() => {\n            if (_db)\n              resolve(_db);\n            else\n              reject(false);\n          }, 100);\n        })\n      },\n      _syncsettings: function(_this) {\n        return {\n          live: true,\n          retry: true,\n          auth: {\n            username: _this.credentials.user,\n            password: _this.credentials.key\n          }\n        };\n      },\n      _replicatesettings: function(_this) {\n        return {\n          auth: {\n            username: _this.credentials.user,\n            password: _this.credentials.key\n          }\n        };\n      }\n    }\n\n    min_server: Array < number > = [1,0,1];\n\n\n    constructor (\n      platform: Platform,\n      events: Events,\n      public loadingCtrl: LoadingController,\n      public alert: AlertController,\n      private http: Http\n    ) {\n      this.http = http;\n      this.events = events;\n      this.state.on_device = platform.is('cordova');\n      this.pouch.credentials = new PouchDB('rfWriter-credentials', this.dbsettings);\n      this.pouch.data = [];\n      this.initialize();\n  }\n\n  showLoadingCtrl(msg) {\n    if (this.loading == null) {\n      this.loading = this.loadingCtrl.create({content: msg});\n      this.loading.present();\n    }\n    else {\n      this.loading.setContent(msg);\n    }\n  }\n\n  hideLoadingCtrl() {\n    if (this.loading) {\n      this.loading.dismiss();\n      this.loading = null;\n    }\n  }\n\n\n  showAlert(title, message, cb) {\n    cb = cb || function(){};\n    let _confirm = this.alert.create({\n      title: title,\n      message: message,\n      buttons: [{\n        text: 'OK',\n        handler: () => {\n          cb;\n        },\n      }],\n    });\n    _confirm.present();\n  }\n\n  /*\n   * INITIALIZE\n   *\n   * Creates Pouch Databases according to the current user\n   * returns if no user is active\n   * \n   */\n\n  async initialize() {\n    let self = this;\n    this.showLoadingCtrl(\"Initializing Credential Database\");\n    try {\n      let _c = await this.pouch.credentials.get('credentials');\n      this.credentials = _c.data;\n    } catch(err) {\n      console.log(err);\n    }\n    if (!this.credentials.user) {\n      this.hideLoadingCtrl();\n      return;\n    }\n\n    /*\n     * Settings Database: Containing current state\n     */\n\n    this.showLoadingCtrl(\"Initializing Settings Database\");\n    try {\n      this.pouch.settings = await this.helpers._pouchcreate(`rfWriter-settings-${this.credentials.user}`);\n    } catch (err) {\n      this.hideLoadingCtrl();\n      return;\n    }\n    \n\n\n    /*\n     * Issues Database: Contains Id's of accessible issues\n     */\n\n    this.showLoadingCtrl(\"Initializing Issues Database\");\n    try {\n      this.pouch.issues = await this.helpers._pouchcreate(`rfWriter-issues-${this.credentials.user}`);  \n    } catch (err) {\n      this.hideLoadingCtrl();\n      return;      \n    }\n\n\n    /* Create Databases and Copy Configuration into issue_options */\n    let syncIssueWithDataOption = async function(_issue) {\n      try {\n        let _options = await self.pouch.data[_issue.Id].get(`contribution-${_issue.Id}-options`);\n        console.log(_options);\n        _issue.Name = _options.data.Name;\n        _issue.Options = _options.data.Options;\n      } catch (err) {\n        console.log('could not load options...')\n      }\n\n      try {\n        let _options = await self.pouch.data[_issue.Id].get(`contribution-${_issue.Id}-exports`);\n        _issue.Exports = _options.data;\n      } catch (err) {\n        console.log('could not load exports...')\n      }\n\n\n      if (_issue.Id == self.current.issue) {\n        self.current.issue_options = {\n          Name: _issue.Name,\n          Id: _issue.Id,\n          Options: _issue.Options || []\n        }\n        for (var _i = self.issueoptions.length - 1; _i >= 0; _i--) {\n          self.current.issue_options.Options[_i] = self.current.issue_options.Options[_i] || {key: self.issueoptions[_i],value:\"\"};\n        }\n      }\n    }\n\n    let syncIssue = function(_issue) {\n      return new Promise(async (resolve, reject) => {\n        try {\n          self.pouch.data[_issue.Id].replicate.from(`${self.credentials.server}/db/issue-${_issue.Id}`, self.helpers._replicatesettings(self))\n          .on('complete', function(info) { \n            syncIssueWithDataOption(_issue);\n            resolve(true);\n          })\n          .on('error', function(err){\n            syncIssueWithDataOption(_issue);\n            reject(false);\n          });\n        } catch (err) {\n          console.log(err);\n        }\n      });\n    }\n\n    let configureissues = async function() {\n      return new Promise(async (resolve, reject) => {\n        try {\n          let _i = await self.pouch.issues.get('issues');\n          self.issues = _i.data;\n          console.log(self.issues);\n        } catch (err) {\n          reject(false);\n        }\n\n        let _counter = 0;\n        try {\n          for (let i of self.issues.Issues) {\n\n            // Create pouch db if no db is existing\n\n            if (self.pouch.data[i.Id] === undefined) {\n              self.showLoadingCtrl(`<p>Create database</p><h4>${++_counter} of ${self.issues.Issues.length}</h4>`);\n              try {\n                self.pouch.data[i.Id] = await self.helpers._pouchcreate(`rfWriter-data-${i.Id}`);  \n              } catch (err) {\n                self.hideLoadingCtrl();\n                reject(false);\n              }\n            }\n\n            try {\n              syncIssue(i);\n            } catch (err) {\n              console.log(err);\n            }\n          }\n        } catch (err) {\n          console.log(err);\n          self.hideLoadingCtrl();\n          reject(false);\n        }\n        self.hideLoadingCtrl();\n        resolve(true);\n      })\n    }\n\n\n  \n    /* Live Syncing */\n\n    let syncing = async function() {\n      \n      self.pouch.issues_sync = self.pouch.issues.sync(`${self.credentials.server}/db/rf-${self.credentials.user}`, self.helpers._syncsettings(self))\n      .on('change',   function (info)  {\n        if (info.direction === \"pull\" ) {\n          configureissues();\n        }\n      })\n      .on('active',   function ()     {console.log('----> sync issue active'); self.state.logged_in = true;})\n      .on('denied',   function (err)  {console.log('----> sync issue denied'); self.state.logged_in = false;})\n      .on('error',    function (err)  {console.log('----> sync issue error'); self.state.logged_in = false;})\n      .on('complete', function (info) {console.log(\"----> sync issue complete/destroyed\");})      \n      \n      \n      try {\n        await configureissues();\n      } catch (err) {\n        console.log(err);\n      }\n\n      self.hideLoadingCtrl();\n\n      try {\n        await self.activateIssue();\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n    /* Start Replication: One-time/One-off for starters */\n\n    try {\n      this.pouch.issues.replicate.from(`${this.credentials.server}/db/rf-${this.credentials.user}`, this.helpers._replicatesettings(this))\n      .on('complete', function(info) { \n        self.state.logged_in = true;\n        syncing();\n      })\n      .on('error', function(err){\n        self.state.logged_in = false;\n        syncing();\n      });\n    } catch (err) {\n      console.log(err);\n    }\n\n  }\n\n\n\n\n  /*\n   * Sets current issue based on settings\n   * If no current issue, activate first in list\n   */\n\n  async activateIssue() {\n\n    return new Promise(async (resolve, reject) => {\n\n      this.showLoadingCtrl(\"Activating Issues\");\n\n      if (this.issues == undefined) {\n        this.hideLoadingCtrl();\n        reject(\"Issues undefined\");\n      }\n      //if (this.activationinprogress == true) {\n      //  this.hideLoadingCtrl();        \n      // resolve(\"Activation in Progress..\");\n      //}\n      \n      //this.activationinprogress = true;\n      \n      console.log('Activate Issue Start', this.current.issue, this.issues);\n\n      // Create Local Data Entry and return first issue if no default and no id\n\n      if (this.current.issue == null) {\n\n        try {\n          let _c = await this.pouch.settings.get('current_issue');  \n          this.current.issue = _c.data * 1;\n          console.log(`Default: ${this.current.issue}`);\n        } catch(err) {\n          try {\n            this.current.issue = this.issues.Issues[0].Id;  \n          } catch (err) {\n            reject(\"Issues undefined\");\n          }\n          console.log(`Fallback: ${this.current.issue}`);\n        }\n      }\n\n      // Update local database if id parameter is passed\n\n      try {\n        await this.helpers._pouchsave(this.pouch.settings, 'current_issue', this.current.issue);  \n      } catch (err) {\n        console.log('_pouchsave', err, this.pouch.settings, 'current_issue', this.current.issue);\n      }\n\n      try {\n        await this.activateData();  \n      } catch (err) {\n        console.log('activateData', err);\n      }\n      //console.log(\"there\")\n      //this.activationinprogress = false;\n      this.hideLoadingCtrl();\n      resolve(true);\n\n    });\n\n  }\n\n  /* \n   * Loads data for the current issue, attaches a sync to it\n   *\n   */\n\n  activateData() {\n    return new Promise(async (resolve, reject) => {\n      // Return if no issue is active\n    \n      if (this.current.issue == undefined || !this.current.issue)\n        reject(false);\n\n      this.showLoadingCtrl(\"Initial Data Sync\");\n      let self = this;\n\n      // Loading Data from Local Database\n      // Init: set to true for initial load, false on feed changes\n\n      let _localload = function(init) {\n        \n        init = init || false;\n\n        return new Promise(async (resolve, reject) => {\n\n          try {\n            self.data = [];\n            let _result = await self.pouch.data[self.current.issue].allDocs({\n              include_docs: true,\n              attachments: true,\n              startkey: `contribution-${self.current.issue}`,\n              endkey: `contribution-${self.current.issue}\\uffff`\n            });\n            _result.rows.sort(function (a, b) {\n               if (a.doc.data != null && b.doc.data != null && a.doc.data.sort && b.doc.data.sort)\n                  return a.doc.data.sort - b.doc.data.sort;\n               else\n                  return 0;\n            });\n            _result.rows.forEach((d) => {\n\n              if (d.doc._id === `contribution-${self.current.issue}-exports`) {\n\n                console.log(d);\n                \n                /* Set Current Issue */\n\n                self.current.exports = d.doc || self.current.exports;\n\n                self.current.exports.FilesArray = [];\n                for (let _file in d.doc.File) {\n                  console.log(d.doc._attachments[_file + '.pdf']);\n                  self.current.exports.FilesArray.push({\n                    \"Name\": _file,\n                    \"Url\" : d.doc.File[_file],\n                    \"Stats\" : d.doc.Pages[_file],\n                    \"Data\": `data:${d.doc._attachments[_file + '.pdf'].content_type};base64,${d.doc._attachments[_file + '.pdf'].data}`\n                  })\n                }\n\n                if (init === false) {\n                  self.events.publish('export:ready', self.current.exports);  \n                }\n              } \n              else {\n                if (d.doc.data) {\n                  if (d.doc._id === `contribution-${self.current.issue}-options`) {\n                    \n                    /* Set Current Issue */\n\n                    self.current.issue_options.Id = d.doc.data.Id || self.current.issue_options.Id;\n                    self.current.issue_options.Name = d.doc.data.Name || self.current.issue_options.Name;\n                    self.current.issue_options.Options = d.doc.data.Options || self.current.issue_options.Options;\n\n                    /* Parse Options for completeness */\n\n                    for (var _i = self.issueoptions.length - 1; _i >= 0; _i--) {\n                      self.current.issue_options.Options[_i] = self.current.issue_options.Options[_i] || {key: self.issueoptions[_i],value:\"\"};\n                    }\n\n                    /* Copy into issues Database */\n\n                    if (self.issues.Issues.length && self.current.issue) {\n                      self.issues.Issues.forEach((i) => {\n                        if (i.Id == self.current.issue) {\n                          i.Name    = self.current.issue_options.Name;\n                          i.Options = self.current.issue_options.Options;\n                        }\n                      })\n                    }\n                  }\n                  else {\n                    self.data.push(d.doc.data);\n                  }\n                }\n              }\n            });\n            self.data.sort(function (a, b) {\n              return a.sort - b.sort;\n            });\n            self.state.initialized = true;\n            self.events.publish('page:change', self.current.page);\n            resolve(true);\n          } catch(err) {\n            console.log(\"ERROR SYNCING DATA\", err);\n            reject(false);\n          }\n        });\n      }\n\n      // live syncer - attach after one time syncer\n      let _syncer = function() {\n        console.log(\"_START SYNCER_\");\n        try {\n          self.pouch.data_sync.cancel();\n        } catch (err) {\n          console.log(\"nothing to cancel!\")\n        }\n        try {\n          self.pouch.data_sync = self.pouch.data[self.current.issue].sync(`${self.credentials.server}/db/issue-${self.current.issue}`, self.helpers._syncsettings(self))\n          .on('change', async function (info) {\n            self.state.busy = 1;\n            if (info.direction === \"pull\" ) {\n              try {\n                await _localload(false);    \n              } catch (err) {\n                console.log(err)\n              }\n            }\n          })\n          .on('paused',   async function (err)  {\n            self.state.busy = 0;\n          })\n          .on('error', function (err) {\n            console.log(err)\n          });\n        } catch (err){\n          console.log(err);\n        }\n      }\n      \n      \n\n      // attach syncing\n      try {\n        this.pouch.data[this.current.issue].replicate.from(`${this.credentials.server}/db/issue-${this.current.issue}`, this.helpers._replicatesettings(this))\n        .on('complete', async function(info) { \n          try {\n            await _localload(true);\n            _syncer();\n          } catch(err) {\n            console.log(err)\n          }\n        })\n        .on('error', async function(err){\n          try {\n            await _localload(true)\n            _syncer();\n          } catch(err) {\n            console.log(err)\n          }\n        });\n\n        resolve(true);  \n      }\n      catch (err) {\n        reject(false);\n      }\n\n    });\n  }\n\n\n\n\n\n\n  async destroyDB() {\n    if (this.pouch.issues_sync && typeof this.pouch.issues_sync.cancel === \"function\") {\n      this.pouch.issues_sync.cancel();\n      this.pouch.issues_sync = null;\n    }\n    if (this.pouch.data_sync && typeof this.pouch.data_sync.cancel === \"function\") {\n      this.pouch.data_sync.cancel();\n      this.pouch.data_sync = null;\n    }\n    try {\n      await this.pouch.issues.destroy();  \n      console.log(\"issues destroyed\");\n    } catch (err) {\n      console.log(\"issues not found\");\n    }\n    try {\n      await this.pouch.credentials.destroy();\n      console.log(\"credentials destroyed\");\n    } catch (err) {\n      console.log(\"credentials not found\");\n    }   \n    try {\n      await this.pouch.settings.destroy();\n      console.log(\"settings destroyed\");\n    } catch (err) {\n      console.log(\"settings not found\");\n    }   \n    if (this.pouch.data != undefined && this.pouch.data.length) {\n      for (let k = 0; k < this.pouch.data.length; k++) {\n        let d = this.pouch.data[k];\n        if (d && typeof d.destroy === \"function\") {\n          try {\n            await d.destroy();\n            console.log(\"data destroyed\");\n          } catch (err) {\n            console.log(\"data not found\");\n          }   \n        }\n      }\n    }\n    this.pouch.settings = null;\n    this.pouch.issues = null;\n    this.pouch.credentials = null;\n    this.pouch.data = [];\n    this.issues = null;\n    this.state.initialized = false;\n    this.hideLoadingCtrl();\n  }\n\n  /*\n   * Store Issue Info in Meta-Contribution and issue database\n   */\n\n  async dbIssuesStore() {\n    try {\n      await this.helpers._pouchsave(this.pouch.data[this.current.issue], `contribution-${this.current.issue}-options`, this.current.issue_options);  \n      this.issues.Issues.forEach((i) => {if (i.Id == this.current.issue) {i.Name = this.current.issue_options.Name;}})\n      /*try {\n        await this.helpers._pouchsave(this.pouch.issues, `issues`, this.issues);\n      } catch (err) {\n        console.log(err);\n      }*/\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  /**\n  *\n  *  Store Documents\n  *\n  **/\n\n  async dbStore(data:any) {\n    let document = `contribution-${this.current.issue}-${data.syncId}`;\n    if (!this.current.issue) {\n      return;\n    }\n    try {\n      //console.log(\"saving...\", document, data)\n      await this.helpers._pouchsave(this.pouch.data[this.current.issue], document, data);  \n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  change() {\n    if (this.state.initialized === false) return;\n    if (this.data[this.current.page] === undefined) return;\n    this.data[this.current.page].modified = 0;\n    this.dbStore(this.data[this.current.page]);\n    //console.log('Local Store Doc Complete', this.current.page, this.data[this.current.page]);\n  }\n\n  reorder(indexes){\n    if (this.state.initialized === false) return;\n    this.data = reorderArray(this.data, indexes);\n    this.data.forEach((e,i) => {\n      if (e.sort != i) {\n        e.sort = i;\n        this.dbStore(e);\n      }\n    })\n  }\n\n  delete(item) {\n    let _self = this;\n    if (this.state.initialized === false) return;\n\n    // Move Page back before delete if on the last page\n    if (this.current.page == this.data.length - 1 && this.current.page > 0) {\n      this.current.page--;\n      this.events.publish('page:change', this.current.page);\n    }\n    let _delete = this.data.splice(item, 1);\n    this.pouch.data[this.current.issue].get(`contribution-${this.current.issue}-${_delete[0].syncId}`).then(function (doc) {\n      console.log(`Deleted ${_delete[0].syncId} from DB`);\n      return _self.pouch.data[_self.current.issue].put({\n        _id: doc._id,\n        _rev: doc._rev,\n        _deleted: true,\n        data: doc.data.id\n      })\n    });\n  }\n\n  add(position: number) {\n    let _data = {\n      name: 'rf001',\n      title: 'Empty Title',\n      body: \"Write Here\",\n      id: -1,\n      sort: 0,\n      moddate: 0,\n      modified: 0,\n      issue: this.current.issue,\n      syncId: this.guid(),\n    };\n    this.dbStore(_data);\n    this.data.splice(position, 0, _data);\n    this.data.forEach((e,i) => {\n      if (e.sort != i) {\n        e.sort = i;\n        this.dbStore(e);\n       }\n    })\n    this.setCurrent(position);\n    this.events.publish('page:change', position);\n  }\n\n  setCurrent(id:number) {\n    if (this.state.initialized === false) return;\n    console.log(\"Updating Current Set \", id);\n    this.current.page = id;\n  }\n\n  getCurrentData() {\n    return this.data[this.current.page];\n  }\n\n  getCurrent() {\n    return this.current.page;\n  }\n\n  async checkUrl() {\n    let self = this;\n    return new Promise(async (resolve, reject) => {\n      try {\n        let _res = await self.http.get(self.credentials.server).toPromise();\n        if (_res.ok === true && _res.json().application === \"Rokfor Writer Server\") {\n          let _v = _res.json().version.split(\".\");\n          if (parseInt(_v[0]) >= this.min_server[0] && parseInt(_v[1]) >= this.min_server[1] && parseInt(_v[0]) >= this.min_server[2])\n            resolve(true);\n          else  \n            reject(`Server Version mismatch: ${this.min_server[0]}.${this.min_server[1]}.${this.min_server[2]} required.`);\n        }\n        else {\n          reject(\"Server connection failed. Server probably down.\");\n        }\n      } catch (err) {\n        reject(\"Server connection failed. Connection required for initial login.\")\n      }\n      \n      \n\n    });\n  }\n\n  async logIn() {\n    this.state.initialized = false;\n    this.showLoadingCtrl(\"Logging in. Network connection required.\");\n    try {\n      await this.checkUrl();\n    } catch (err) {\n      this.showAlert(\"Server Connection Failed\", err, null);\n      this.hideLoadingCtrl();\n      return;\n    }\n    if (this.pouch.credentials == null) {\n      this.pouch.credentials = await this.helpers._pouchcreate('rfWriter-credentials');\n    }\n    await this.helpers._pouchsave(this.pouch.credentials, 'credentials', this.credentials);\n    this.initialize();\n  }\n\n  logOut() {\n    this.showLoadingCtrl(\"Logging out\");\n    this.credentials = {user: \"\", key: \"\", server: \"\"};\n    this.helpers._pouchsave(this.pouch.credentials, 'credentials', this.credentials);\n    this.issues = false;\n    this.current = {\n      page          : 0,\n      issue         : null,\n      issue_options : {},\n      exports       : {}\n    }\n    this.state.initialized = false;\n    this.state.logged_in = false;\n    this.data = [];\n    this.destroyDB();\n    }\n\n    guid() {\n      function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000)\n          .toString(16)\n          .substring(1);\n      }\n      return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n        s4() + '-' + s4() + s4() + s4();\n    }\n\n    bookStore() {\n      if (this.timeout.book !== null) {\n        clearTimeout(this.timeout.book);\n      }\n      this.timeout.book = setTimeout(() => {\n        this.dbIssuesStore();\n        console.log(`Issues Stored`);\n      }, 1000);\n\n\n    }\n\n  async _call(url, message, postdata, returnResult) {\n    postdata = postdata || {};\n    returnResult = returnResult || false;\n    try {\n      let _headers = new Headers({'Content-Type': 'application/json'});\n      let _res = await this.http.post(\n        this.credentials.server + url, \n        JSON.stringify({\n          credentials: this.credentials,\n          data: postdata}),\n          {headers: _headers}).toPromise();\n      if (returnResult===true) {\n        return _res.json();\n      }\n      else {\n        if (_res.ok === true && _res.json().state === \"ok\") {\n          this.showAlert(\"OK\", message, null);\n        }\n        if (_res.json().state === \"error\") {\n          this.showAlert(\"Error\", _res.json().message, null);\n        }        \n      }\n    } catch (err) {\n      if (returnResult===true) {\n        return false;\n      }\n      else {\n        console.log(err);\n        this.showAlert(`Error ${err.status||\"\"}`, `${err.statusText||\"\"}<br>${err.url||\"\"}`, null);        \n      }\n    }\n  }\n\n  }\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/rfapi.component.ts","import { Directive, HostListener, ElementRef } from \"@angular/core\";\n\n@Directive({\nselector: \"ion-textarea[autoresize]\" // Attribute selector\n})\nexport class Autoresize {\n\n  @HostListener(\"input\", [\"$event.target\"])\n  \n  onInput(textArea: HTMLTextAreaElement): void {\n    this.adjust();\n  }\n\n  constructor(public element: ElementRef) {\n    this.element = element;\n  }\n\n  ngAfterViewInit(): void {\n    this.adjust();\n  }\n\n  adjust(): void {\n    let ta = this.element.nativeElement.querySelector(\"textarea\");\n    if (ta !== null) {\n      ta.style.overflow = \"hidden\";\n      ta.style.height = \"auto\";\n      ta.style.height = ta.scrollHeight + \"px\";\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directives/shrink.ts"],"sourceRoot":""}